<form class="fso-animation-manager">
  <div class="fso-animation-container">
    <nav class="tabs fso-tabs">
      <a class="item" data-tab="continuous">Continuous</a>
      <a class="item disabled" data-tab="entrance">Entrance <span class="coming-soon">coming soon</span></a>
      <a class="item disabled" data-tab="trigger">Triggered <span class="coming-soon">coming soon</span></a>
    </nav>

    <div class="content">
      <div class="tab" data-tab="continuous">
        <h3>Continuous Animations</h3>
        <p class="hint">These animations play continuously while the overlay is visible.</p>

        <table class="animations-list">
          <thead>
            <tr>
              <th>Animation</th>
              <th>Duration (s)</th>
              <th>Delay (s)</th>
              <th>Actions</th>
            </tr>
          </thead>
          <tbody>
            {{#each activeAnimations}}
            <tr>
              <td>{{this.animation}}</td>
              <td><input type="number" name="continuous.{{@index}}.duration" value="{{this.duration}}" step="0.1" min="0.1"></td>
              <td><input type="number" name="continuous.{{@index}}.delay" value="{{this.delay}}" step="0.1" min="0"></td>
              <td><button type="button" class="remove-animation" data-type="continuous" data-index="{{@index}}">Remove</button></td>
            </tr>
            {{/each}}
          </tbody>
        </table>

        <div class="add-animation-form">
          <select id="continuous-animation">
            {{#each continuousAnimations}}
            <option value="{{this.id}}">{{this.name}}</option>
            {{/each}}
          </select>
          <button type="button" class="add-animation" data-type="continuous">Add Animation</button>
        </div>
      </div>

      <div class="tab" data-tab="entrance">
        <p class="coming-soon-message">Entrance animations are coming soon.</p>
      </div>

      <div class="tab" data-tab="trigger">
        <p class="coming-soon-message">Triggered animations are coming soon.</p>
      </div>

      {{#unless isPremium}}
      <div class="premium-notice">
        <i class="fas fa-lock"></i> Some animations require premium activation.
        <a href="https://www.patreon.com/c/jenzelta" target="_blank">Support on Patreon</a> to unlock all animations.
      </div>
      {{/unless}}
    </div>

    <div class="form-footer">
      <button type="submit" class="fso-primary-btn">Save Changes</button>
      <button type="button" class="cancel-button fso-secondary-btn">Cancel</button>
    </div>
  </div>

  <style>
    .fso-animation-manager {
      margin: 0.5em;
    }

    .fso-tabs {
      display: flex;
      border-bottom: 1px solid #ddd;
      margin-bottom: 1em;
    }

    .fso-tabs .item {
      padding: 0.5em 1em;
      cursor: pointer;
      border: 1px solid transparent;
      border-bottom: none;
      margin-right: 0.25em;
    }

    .fso-tabs .item.active {
      background-color: #f0f0f0;
      border-color: #ddd;
      border-radius: 3px 3px 0 0;
    }

    .fso-tabs .item.disabled {
      color: #999;
      pointer-events: none;
    }

    .coming-soon {
      font-size: 11px;
      margin-left: 4px;
      color: #999;
    }

    .coming-soon-message {
      padding: 1em;
      text-align: center;
      color: #666;
      font-style: italic;
    }

    .hint {
      font-style: italic;
      color: #666;
      margin-bottom: 1em;
    }

    .animations-list {
      width: 100%;
      border-collapse: collapse;
      margin-bottom: 1em;
    }

    .animations-list th, .animations-list td {
      padding: 0.5em;
      border-bottom: 1px solid #eee;
      text-align: left;
    }

    .add-animation-form {
      margin-top: 1em;
      padding: 1em;
      background-color: #f5f5f5;
      border-radius: 4px;
    }

    .add-animation-form select,
    .add-animation-form input {
      margin-right: 0.5em;
      padding: 0.25em;
    }

    .premium-notice {
      margin-top: 1em;
      padding: 0.5em;
      background-color: #fff8e1;
      border: 1px solid #ffe082;
      border-radius: 4px;
      text-align: center;
    }

    .form-footer {
      margin-top: 1em;
      padding-top: 1em;
      border-top: 1px solid #ddd;
      text-align: right;
    }
  </style>
</form>
